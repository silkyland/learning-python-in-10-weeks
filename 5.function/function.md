# Function

## 1. ความหมายและประโยชน์ของ function

### ความหมายของ function:

- Function ใน Python เป็นกลุ่มของคำสั่งที่ถูกออกแบบมาเพื่อทำงานอย่างใดอย่างหนึ่งโดยเฉพาะ
- เราสามารถเรียก function เพื่อใช้งานได้หลายครั้งในโปรแกรม โดยไม่ต้องเขียนคำสั่งเดิมซ้ำๆ
- Function ช่วยแบ่งโปรแกรมออกเป็นส่วนย่อยๆ ทำให้โค้ดอ่านง่าย และมีระเบียบมากขึ้น
- Function อาจรับข้อมูลเข้าไป (input) ผ่าน parameter และส่งข้อมูลออกมา (output) ผ่าน return statement

### ประโยชน์ของ function:

1. ลดความซ้ำซ้อนของโค้ด (Code Reusability)
   - เมื่อเราต้องเขียนโค้ดที่ทำงานเดิมซ้ำๆ กันหลายครั้ง เราสามารถสร้างเป็น function แล้วเรียกใช้ได้เรื่อยๆ
   - ทำให้โค้ดสั้นลง กระชับ และหลีกเลี่ยงการเขียนโค้ดซ้ำซ้อน
2. ทำให้โปรแกรมอ่านง่ายและมีระเบียบ (Code Readability and Organization)

   - Function ช่วยแบ่งโปรแกรมออกเป็นส่วนย่อยตามหน้าที่การทำงาน ทำให้อ่านง่ายและทำความเข้าใจได้ดีขึ้น
   - การตั้งชื่อ function ที่สื่อความหมายชัดเจน ช่วยให้เข้าใจได้ทันทีว่า function นั้นทำหน้าที่อะไร
   - ถ้าโปรแกรมมีขนาดใหญ่และซับซ้อน การแบ่งเป็น function จะช่วยจัดระเบียบให้กับโค้ด

3. ง่ายต่อการทดสอบและแก้ไขโค้ด (Code Testing and Debugging)
   - เมื่อโปรแกรมถูกแบ่งเป็น function ย่อยๆ จะง่ายต่อการทดสอบและหา bug
   - ถ้ามีข้อผิดพลาดเกิดขึ้นใน function ใดเราสามารถโฟกัสไปที่ function นั้นได้เลย โดยไม่ต้องกังวลส่วนอื่นๆ ของโปรแกรม
   - เราสามารถเขียน test case เพื่อทดสอบ function แต่ละอันแยกกันได้
4. ส่งเสริมการเขียนโค้ดแบบ modular (Modular Programming)

   - Function เป็นส่วนสำคัญในการเขียนโปรแกรมแบบแยกเป็นโมดูล (modular programming)
   - ช่วยให้สามารถออกแบบและพัฒนาโปรแกรมเป็นส่วนๆ แยกจากกันได้ โดยแต่ละส่วนมีหน้าที่เฉพาะของตัวเอง
   - โค้ดที่เป็นโมดูลจะอ่านง่าย ทำความเข้าใจได้ไว และง่ายต่อการปรับเปลี่ยนแก้ไข

5. ทำให้โค้ดมีความยืดหยุ่นและส่งเสริมการนำกลับมาใช้ซ้ำ (Code Flexibility and Reusability)
   - Function ที่มีการออกแบบอย่างดีจะมีความยืดหยุ่นสูง สามารถเรียกใช้ได้ในหลายๆ สถานการณ์
   - สามารถนำ function ที่สร้างไว้แล้วมาใช้ซ้ำในโปรเจคอื่นๆ ได้ ทำให้เขียนโปรแกรมได้เร็วขึ้น
   - การเขียน function ที่มีประสิทธิภาพและนำไปใช้ซ้ำได้ดี จะช่วยเพิ่มผลิตภาพในการเขียนโปรแกรม

สรุปคือ function เป็นเครื่องมือสำคัญใน Python ที่ช่วยแบ่งโปรแกรมเป็นส่วนย่อย ลดความซ้ำซ้อน ทำให้อ่านง่าย มีระเบียบ ทดสอบและแก้ไขได้ง่ายขึ้น ส่งเสริมการเขียนโปรแกรมแบบแยกเป็นโมดูล และสามารถนำไปใช้ซ้ำได้หลายครั้ง จึงเป็นเรื่องสำคัญที่ต้องเข้าใจและนำไปใช้ได้อย่างมีประสิทธิภาพครับ

## 2. โครงสร้างของ function

โครงสร้างของ function ในรายละเอียดเพิ่มเติมดังนี้

1. def keyword และชื่อ function

   - ในการสร้าง function ใน Python จะต้องเริ่มต้นด้วย keyword `def` (ย่อมาจาก define) เพื่อบอก Python ว่าเราต้องการสร้าง function
   - หลังจาก `def` ต้องตามด้วยชื่อของ function ที่เราต้องการตั้ง เช่น `def greet()`, `def calculate_area()`
   - ชื่อ function ควรเป็นคำที่สื่อความหมายชัดเจน บอกได้ว่า function นั้นทำหน้าที่อะไร และตั้งตามหลัก naming convention ของ Python (snake_case)

2. วงเล็บ () และ parameter

   - หลังจากชื่อ function ต้องมีวงเล็บเปิดปิด `()` เสมอ
   - ภายในวงเล็บ เราสามารถกำหนด parameter ของ function ได้ เพื่อรับค่าเข้ามาใน function
   - parameter คือตัวแปรที่ใช้รับค่าที่ส่งเข้ามาตอนเรียกใช้ function เช่น `def greet(name)` ในที่นี้ `name` คือ parameter
   - function อาจไม่มี parameter เลย หรือมีหลาย parameter ก็ได้ ขึ้นอยู่กับการออกแบบ function นั้นๆ
   - ถ้ามีหลาย parameter ให้คั่นด้วยเครื่องหมาย comma (`,`) เช่น `def calculate_rectangle_area(width, height)`

3. colon (:)

   - หลังวงเล็บปิดของ function ต้องมี colon (`:`) เสมอ เพื่อบอกว่าโค้ดที่เป็นเนื้อหาของ function จะเริ่มต้นในบรรทัดถัดไป
   - หลังจาก colon แล้วต้องขึ้นบรรทัดใหม่เสมอ เพื่อเขียนโค้ดภายใน function

4. โค้ดภายใน function (function body)

   - โค้ดที่อยู่ภายใน function เรียกว่า function body
   - โค้ดใน function body จะวางอยู่ในระดับเยื้องเข้าไปจากขอบซ้ายเท่ากันทุกบรรทัด (indentation) โดยปกติจะเป็น 4 spaces
   - โค้ดเหล่านี้จะทำงานก็ต่อเมื่อมีการเรียกใช้ function เท่านั้น ไม่ทำงานในทันทีที่ script ถูก run
   - function body สามารถมีโค้ดหลายคำสั่ง ทำงานหลายขั้นตอนตามที่เราเขียนไว้

5. return statement
   - function สามารถส่งค่าออกมาได้ด้วย return statement
   - เมื่อต้องการให้ function ส่งค่ากลับออกมา ให้ใช้ `return` ตามด้วยค่าหรือตัวแปรที่ต้องการส่งออกมา
   - return จะทำให้ function สิ้นสุดการทำงานทันที ดังนั้นโค้ดที่เขียนหลัง return จะไม่ถูกทำงาน
   - function ไม่จำเป็นต้องมี return statement เสมอไป ถ้าไม่มี function จะทำงานจนจบและไม่ส่งค่าใดๆ ออกมา

ตัวอย่างโครงสร้างของ function ที่สมบูรณ์:

```python
def rectangle_area(width, height):
    area = width * height
    return area
```

โดยสรุป โครงสร้างของ function ใน Python ประกอบด้วย

1. `def` keyword
2. ชื่อ function
3. วงเล็บ `()` และ parameter (ถ้ามี)
4. colon `:`
5. โค้ดภายใน function ที่เยื้องเข้ามา (indentation)
6. `return` statement (ถ้ามี)

การเข้าใจโครงสร้างพื้นฐานของ function จะทำให้สามารถสร้าง function ได้ถูกต้องตามรูปแบบที่ Python กำหนด และสามารถนำไปประยุกต์ใช้งานได้ตามต้องการ

## 3. การสร้างและเรียกใช้ function

การสร้าง function:

1. ขึ้นต้นด้วย keyword `def` ตามด้วยชื่อของ function ที่เราต้องการสร้าง
2. หลังชื่อ function ต้องมีวงเล็บ `()` โดยภายในวงเล็บสามารถกำหนด parameter ได้ตามต้องการ (หรือไม่มีก็ได้)
3. หลังวงเล็บปิดต้องมี colon (`:`) ต่อท้ายเสมอ
4. ขึ้นบรรทัดใหม่ แล้วเขียนโค้ดที่เป็นเนื้อหาของ function (function body) โดยเว้นระยะ indentation เข้ามา (ปกติคือ 4 spaces)
5. ถ้าต้องการให้ function ส่งค่ากลับ ให้ใช้คำสั่ง `return` ตามด้วยค่าที่ต้องการส่งออกไป

ตัวอย่างการสร้าง function ที่รับ parameter 2 ตัว และ return ผลรวม:

```python
def add_numbers(x, y):
    sum = x + y
    return sum
```

การเรียกใช้ function:

1. เมื่อต้องการใช้งาน function เราเรียกใช้ได้โดยเขียนชื่อ function ตามด้วยวงเล็บ `()`
2. ถ้า function มี parameter ให้ใส่ค่า argument ที่ต้องการส่งเข้าไปใน function ภายในวงเล็บ
3. ถ้า function มีการ return ค่า สามารถนำค่าที่ได้ไปใช้ต่อได้ เช่น เก็บในตัวแปร หรือแสดงผลออกมา

ตัวอย่างการเรียกใช้ function `add_numbers` ที่สร้างไว้ด้านบน:

```python
result1 = add_numbers(5, 3)
print(result1)  # Output: 8

result2 = add_numbers(10, 7)
print(result2)  # Output: 17
```

ในตัวอย่าง เราเรียกใช้ function `add_numbers` สองครั้ง โดยการส่ง argument เข้าไปใน function ผ่านทางวงเล็บ

- ครั้งแรกส่ง 5 และ 3 เป็น argument ค่าผลลัพธ์ที่ได้จะถูกเก็บในตัวแปร `result1` และแสดงผลออกมาเป็น 8
- ครั้งที่สองส่ง 10 และ 7 เป็น argument ค่าผลลัพธ์จะถูกเก็บในตัวแปร `result2` และแสดงผลเป็น 17

เราสามารถเรียกใช้ function ได้หลายครั้ง โดยแต่ละครั้งสามารถส่ง argument ที่แตกต่างกันเข้าไปได้ ทำให้เกิดความยืดหยุ่นและสะดวกในการใช้งาน

นอกจากนี้เรายังสามารถส่งผลลัพธ์ที่ได้จาก function ไปใช้ต่อในโค้ดส่วนอื่นๆ ได้อีก เช่น นำไปคำนวณต่อ หรือใช้เป็นเงื่อนไข เป็นต้น

สรุปคือ หลังจากสร้าง function แล้ว เราสามารถเรียกใช้มันได้โดยเขียนชื่อ function ตามด้วยวงเล็บ และส่ง argument เข้าไปตามที่ function ต้องการ ถ้า function มีการ return ค่า เราสามารถนำค่านั้นไปใช้ต่อได้ตามต้องการ การแยกโค้ดออกเป็น function ช่วยให้โปรแกรมอ่านง่าย มีระเบียบ และทำงานได้อย่างมีประสิทธิภาพมากขึ้น

## 4. การกำหนดและใช้งาน parameter และ argument

Parameter:

- Parameter คือ ตัวแปรที่ถูกกำหนดขึ้นในส่วนของ function definition (การประกาศ function) เพื่อรับค่าที่ถูกส่งเข้ามาจากภายนอกเมื่อมีการเรียกใช้ function
- Parameter จะอยู่ภายในวงเล็บ `()` ต่อจากชื่อ function
- Function สามารถมีหลาย parameter ได้ โดยแต่ละ parameter คั่นด้วยเครื่องหมาย comma (`,`)
- Parameter ทำหน้าที่เป็นตัวแทนของค่าที่จะถูกส่งเข้ามาตอนเรียกใช้ function ซึ่งสามารถนำไปใช้งานภายใน function ได้

ตัวอย่างการกำหนด parameter ใน function:

```python
def greet(name):
    print(f"Hello, {name}!")
```

ในตัวอย่างนี้ function `greet` มี parameter ชื่อ `name` ซึ่งเป็นตัวแปรที่ใช้รับค่าชื่อที่ส่งเข้ามาตอนเรียกใช้ function และนำไปใช้ในการ print คำทักทาย

Argument:

- Argument คือ ค่าจริงที่เราส่งเข้าไปให้กับ parameter ของ function ตอนที่มีการเรียกใช้ function
- ในการเรียกใช้ function ถ้า function นั้นมีการกำหนด parameter ไว้ เราจำเป็นต้องส่ง argument ที่สอดคล้องกับ parameter นั้นๆ เข้าไป
- ลำดับและจำนวนของ argument ต้องตรงกับลำดับและจำนวนของ parameter ที่กำหนดไว้ใน function

ตัวอย่างการส่ง argument ตอนเรียกใช้ function `greet`:

```python
greet("Alice")
greet("Bob")
```

ในตัวอย่างนี้ เรามีการเรียกใช้ function `greet` สองครั้ง โดยในแต่ละครั้งมีการส่ง argument เป็นชื่อ "Alice" และ "Bob" ตามลำดับ ซึ่ง argument เหล่านี้จะถูกส่งเข้าไปให้กับ parameter `name` ที่กำหนดไว้ใน function

Default Parameter:

- ใน Python เราสามารถกำหนดค่า default ให้กับ parameter ได้ ซึ่งจะถูกใช้เป็นค่าของ parameter นั้นเมื่อไม่มีการส่ง argument เข้ามาตอนเรียกใช้ function
- การกำหนดค่า default ให้กับ parameter ทำได้โดยใช้เครื่องหมาย `=` ตามหลัง parameter และตามด้วยค่า default ที่ต้องการ

ตัวอย่างการกำหนดค่า default ให้กับ parameter:

```python
def greet(name="Guest"):
    print(f"Hello, {name}!")

greet()  # Output: Hello, Guest!
greet("Alice")  # Output: Hello, Alice!
```

ในตัวอย่างนี้ parameter `name` ถูกกำหนดค่า default เป็น "Guest" ดังนั้นเมื่อเรียกใช้ function `greet()` โดยไม่ส่ง argument เข้าไป parameter `name` จะมีค่าเป็น "Guest" แต่ถ้ามีการส่ง argument เช่น `greet("Alice")` ค่าของ `name` จะเป็น "Alice" แทน

การใช้งาน parameter และ argument ทำให้ function มีความยืดหยุ่นมากขึ้น สามารถรับค่าที่แตกต่างกันเข้ามาในแต่ละครั้งที่ถูกเรียกใช้ ทำให้สามารถนำ function ไปใช้งานได้หลากหลายสถานการณ์ การกำหนดค่า default ให้กับ parameter ช่วยให้เรียกใช้ function ได้ง่ายขึ้นเมื่อไม่จำเป็นต้องระบุค่า argument ทุกครั้ง

## 5. การ return ค่าจาก function

ในหัวข้อ "การ return ค่าจาก function" เราจะมาดูรายละเอียดเกี่ยวกับการส่งค่ากลับจาก function ไปยังส่วนอื่นๆ ของโปรแกรม

- ตามปกติแล้ว function จะทำงานตามคำสั่งที่เขียนไว้ภายใน function body เมื่อมีการเรียกใช้ แต่บางครั้งเราอาจต้องการให้ function ส่งผลลัพธ์หรือค่าบางอย่างกลับมาเพื่อนำไปใช้งานต่อ
- ในกรณีนี้ เราสามารถใช้คำสั่ง `return` เพื่อส่งค่าออกมาจาก function ได้
- คำสั่ง `return` จะทำให้ function หยุดการทำงานทันทีที่พบคำสั่ง `return` และส่งค่าที่ระบุหลัง `return` กลับไปยังตำแหน่งที่เรียกใช้ function

ตัวอย่างการใช้ `return` ใน function:

```python
def square(x):
    return x ** 2

result = square(5)
print(result)  # Output: 25
```

ในตัวอย่างนี้ function `square` รับ parameter `x` และมีการใช้คำสั่ง `return x ** 2` เพื่อส่งค่ากำลังสองของ `x` กลับออกมา เมื่อเรียกใช้ `square(5)` ค่า 25 จะถูกส่งกลับมาและถูกเก็บในตัวแปร `result` ซึ่งเราสามารถนำไปใช้ต่อได้ เช่น แสดงผลด้วย `print()`

คำสั่ง `return` สามารถส่งค่าได้ทั้งตัวแปร นิพจน์ (expression) หรือแม้แต่ฟังก์ชันอื่นๆ เช่น

```python
def add(a, b):
    return a + b

def multiply(a, b):
    return a * b

def calculate(x, y):
    return multiply(add(x, y), 2)

result = calculate(3, 4)
print(result)  # Output: 14
```

ในตัวอย่างนี้ function `calculate` เรียกใช้ function `add` และ `multiply` และส่งผลลัพธ์สุดท้ายกลับมาด้วย `return`

- หลังจากที่มีการ return ค่าออกจาก function แล้ว การทำงานของ function จะสิ้นสุดลงทันที แม้ว่าจะยังมีคำสั่งอื่นๆ ต่อจาก `return` ก็ตาม คำสั่งเหล่านั้นจะไม่ถูกทำงาน

```python
def test():
    print("Before return")
    return
    print("After return")  # This line will not be executed

test()  # Output: Before return
```

- function ไม่จำเป็นต้องมีคำสั่ง `return` เสมอไป ถ้าไม่มีคำสั่ง `return` function จะทำงานจนจบและส่งค่าพิเศษที่เรียกว่า `None` ออกมาโดยปริยาย

สรุปคือ คำสั่ง `return` ใช้สำหรับส่งค่าออกมาจาก function เพื่อนำไปใช้งานต่อในส่วนอื่นๆ ของโปรแกรม เมื่อ function พบคำสั่ง `return` มันจะหยุดทำงานทันทีและส่งค่าที่ระบุออกมา ทำให้เราสามารถเขียน function ที่สามารถคำนวณหรือประมวลผลข้อมูล แล้วส่งผลลัพธ์กลับมาเพื่อนำไปใช้ต่อได้อย่างมีประสิทธิภาพ

## 6. การแบ่งโค้ดออกเป็น function เพื่อให้อ่านง่ายและมีประสิทธิภาพ

ในการเขียนโปรแกรมที่มีขนาดใหญ่และซับซ้อน การแบ่งโค้ดออกเป็น function ย่อยๆ เป็นเทคนิคที่สำคัญในการทำให้โค้ดอ่านง่ายและมีประสิทธิภาพมากขึ้น มาดูเหตุผลและวิธีการแบ่งโค้ดเป็น function กันครับ

1. เมื่อมีการทำงานที่ซับซ้อนหรือยาวมาก ควรแบ่งออกเป็น function
   - ถ้าในโปรแกรมมีส่วนของโค้ดที่ทำงานหลายขั้นตอน หรือมีการคำนวณที่ซับซ้อน การเขียนโค้ดทั้งหมดรวมกันอาจทำให้อ่านยากและทำความเข้าใจได้ลำบาก
   - การแบ่งโค้ดส่วนนั้นออกมาเป็น function แยกต่างหาก จะช่วยให้โค้ดในส่วน main program สั้นและเข้าใจง่ายขึ้น
   - โค้ดที่ถูกแยกเป็น function จะมีขนาดเล็กลง ทำให้อ่านง่ายและมองเห็นภาพรวมของขั้นตอนการทำงานได้ชัดเจนขึ้น

ตัวอย่างเช่น แทนที่จะเขียนโค้ดการคำนวณค่าเฉลี่ยของตัวเลขในลิสต์แบบนี้:

```python
numbers = [1, 2, 3, 4, 5]
sum = 0
for num in numbers:
    sum += num
average = sum / len(numbers)
print(f"Average: {average}")
```

เราสามารถแยกส่วนของการคำนวณค่าเฉลี่ยออกมาเป็น function แบบนี้:

```python
def calculate_average(numbers):
    sum = 0
    for num in numbers:
        sum += num
    average = sum / len(numbers)
    return average

numbers = [1, 2, 3, 4, 5]
result = calculate_average(numbers)
print(f"Average: {result}")
```

จะเห็นว่าโค้ดในส่วนหลักสั้นและอ่านง่ายขึ้น และ function `calculate_average` ก็มีขนาดเล็กและเข้าใจได้ง่าย

2. ส่วนที่มีการใช้โค้ดซ้ำๆ ควรแยกเป็น function เพื่อนำกลับมาใช้ใหม่ได้
   - หากมีส่วนของโค้ดที่ต้องถูกเขียนซ้ำๆ กันหลายครั้งในโปรแกรม แทนที่จะ copy โค้ดส่วนนั้นไปวางหลายที่ เราสามารถแยกโค้ดส่วนนั้นเป็น function แล้วเรียกใช้ function นั้นแทนได้
   - การทำเช่นนี้ช่วยลดความซ้ำซ้อนของโค้ด ทำให้โปรแกรมสั้นลงและอ่านง่ายขึ้น
   - หากต้องการแก้ไขหรือปรับปรุงโค้ดในส่วนที่ซ้ำกันนั้น เราสามารถแก้ไขใน function เพียงที่เดียว ไม่ต้องไปแก้หลายที่ ช่วยลดความผิดพลาดและประหยัดเวลา

ตัวอย่างเช่น สมมติเรามีโค้ดที่ต้องแสดงผลข้อมูลพนักงานหลายคนในรูปแบบเดียวกัน:

```python
print(f"Name: {employee1['name']}, Age: {employee1['age']}, Salary: {employee1['salary']}")
print(f"Name: {employee2['name']}, Age: {employee2['age']}, Salary: {employee2['salary']}")
print(f"Name: {employee3['name']}, Age: {employee3['age']}, Salary: {employee3['salary']}")
```

เราสามารถสร้าง function สำหรับแสดงผลข้อมูลพนักงาน และเรียกใช้ function นั้นแทน:

```python
def display_employee(employee):
    print(f"Name: {employee['name']}, Age: {employee['age']}, Salary: {employee['salary']}")

display_employee(employee1)
display_employee(employee2)
display_employee(employee3)
```

โค้ดจะสั้นและอ่านง่ายขึ้น และถ้าต้องการเปลี่ยนรูปแบบการแสดงผล เราแก้ไขใน function `display_employee` เพียงที่เดียว

3. function ควรมีขนาดเล็ก ทำหน้าที่เพียงอย่างเดียว และมีชื่อที่ชัดเจน
   - ในการแบ่งโค้ดเป็น function ควรแบ่งให้ function แต่ละอันมีขนาดเล็ก และทำหน้าที่เพียงอย่างเดียวเท่านั้น
   - function ไม่ควรมีความรับผิดชอบหลายอย่างมากเกินไป ควรทำงานเฉพาะเจาะจงสำหรับงานใดงานหนึ่ง เพื่อให้โค้ดภายใน function อ่านง่ายและทำความเข้าใจได้ไม่ยาก
   - ชื่อของ function ควรเป็นคำที่สื่อความหมายชัดเจน บอกได้ว่า function นั้นทำหน้าที่อะไร ซึ่งจะทำให้คนที่อ่านโค้ดเข้าใจการทำงานได้ง่ายขึ้น

ตัวอย่างเช่น แทนที่จะเขียน function ที่ทำหลายอย่างพร้อมกัน เช่น:

```python
def process_employee_data(employee):
    # Calculate age from birthdate
    age = calculate_age(employee['birthdate'])

    # Calculate salary after tax
    salary_after_tax = employee['salary'] * 0.9

    # Display employee info
    print(f"Name: {employee['name']}, Age: {age}, Salary: {salary_after_tax}")
```

เราสามารถแยกการทำงานออกเป็นหลาย function เล็กๆ แต่ละอันทำหน้าที่เฉพาะเจาะจง:

```python
def calculate_age(birthdate):
    # Calculate age from birthdate
    ...

def calculate_salary_after_tax(salary):
    return salary * 0.9

def display_employee(employee):
    age = calculate_age(employee['birthdate'])
    salary_after_tax = calculate_salary_after_tax(employee['salary'])
    print(f"Name: {employee['name']}, Age: {age}, Salary: {salary_after_tax}")

display_employee(employee)
```

โค้ดจะอ่านง่ายขึ้น และแต่ละ function ก็มีหน้าที่ชัดเจน สามารถแยกไปใช้งานได้อย่างอิสระ

การแบ่งโค้ดออกเป็น function เป็นวิธีการสำคัญที่ช่วยให้โปรแกรมมีความเป็นระเบียบ อ่านง่าย และแก้ไขดูแลรักษาได้สะดวกมากขึ้น ควรพยายามแบ่งโค้ดเป็น function เล็กๆ ทำหน้าที่เฉพาะอย่าง และตั้งชื่อ function ให้สื่อความหมายชัดเจน เพื่อให้โค้ดมีคุณภาพสูงและทำงานได้อย่างมีประสิทธิภาพครับ

## 7. Lambda functions

Lambda คือฟังก์ชันแบบไม่มีชื่อ (anonymous function) ซึ่งเป็นวิธีการสร้างฟังก์ชันขนาดเล็กในรูปแบบที่กระชับในภาษา Python โดยใช้คีย์เวิร์ด `lambda` ฟังก์ชัน Lambda มักถูกใช้ในกรณีที่ต้องการฟังก์ชันเล็กๆ ไม่ซับซ้อน และต้องการใช้งานฟังก์ชันนั้นเพียงครั้งเดียวหรือส่งต่อให้ฟังก์ชันอื่นๆ

รูปแบบการสร้างฟังก์ชัน Lambda:

```python
lambda arguments: expression
```

- `lambda` เป็นคีย์เวิร์ดที่ใช้ระบุว่าเป็นการสร้างฟังก์ชัน Lambda
- `arguments` คือพารามิเตอร์หรือตัวแปรที่ฟังก์ชันรับเข้ามา สามารถมีหลายพารามิเตอร์ได้ (คั่นด้วยเครื่องหมายจุลภาค `,`) หรือไม่มีพารามิเตอร์เลยก็ได้
- `expression` คือนิพจน์หรือการดำเนินการที่ต้องการให้ฟังก์ชันทำ โดยผลลัพธ์ของนิพจน์นี้จะถูกส่งกลับเป็นค่าคืนของฟังก์ชัน

ตัวอย่างการใช้งานฟังก์ชัน Lambda:

1. ฟังก์ชัน Lambda แบบไม่มีพารามิเตอร์:

```python
square = lambda: 3 ** 2
print(square())  # Output: 9
```

2. ฟังก์ชัน Lambda ที่รับหนึ่งพารามิเตอร์:

```python
double = lambda x: x * 2
print(double(5))  # Output: 10
```

3. ฟังก์ชัน Lambda ที่รับหลายพารามิเตอร์:

```python
sum = lambda x, y: x + y
print(sum(3, 4))  # Output: 7
```

4. การใช้ฟังก์ชัน Lambda ร่วมกับฟังก์ชันอื่นๆ เช่น `map()`, `filter()`:

```python
numbers = [1, 2, 3, 4, 5]
squared_numbers = list(map(lambda x: x ** 2, numbers))
print(squared_numbers)  # Output: [1, 4, 9, 16, 25]

even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # Output: [2, 4]
```

ข้อดีของฟังก์ชัน Lambda คือ ทำให้โค้ดกระชับ อ่านง่าย และสะดวกในการเขียนฟังก์ชันเล็กๆ ที่ใช้งานเพียงครั้งเดียว อย่างไรก็ตาม สำหรับฟังก์ชันที่มีความซับซ้อนหรือใช้งานหลายครั้ง การสร้างฟังก์ชันแบบปกติด้วย `def` จะเหมาะสมกว่า

การใช้ฟังก์ชัน Lambda เป็นทางเลือกหนึ่งในการสร้างฟังก์ชัน และมักถูกใช้ในสถานการณ์ที่ต้องการฟังก์ชันแบบสั้นๆ และใช้งานในจุดที่เรียกใช้เท่านั้น ไม่จำเป็นต้องกำหนดชื่อให้กับฟังก์ชัน ซึ่งช่วยให้โค้ดกระชับและอ่านง่ายขึ้นในบางกรณีครับ

### แบบฝึกหัด:

1. เขียน function ชื่อ `multiply` ที่รับ parameter 2 ตัว และ return ผลคูณของ parameter ทั้งสอง
2. เขียน function ชื่อ `is_even` ที่รับ parameter 1 ตัว และ return ค่า True ถ้า parameter เป็นเลขคู่ ถ้าไม่ใช่ ให้ return False
3. เขียน function ชื่อ `calculate_circle_area` ที่รับ parameter เป็นรัศมีของวงกลม และ return ค่าเป็นพื้นที่ของวงกลมนั้น (สูตร area = πr^2)
4. เขียน function ชื่อ `calculate_grade` ที่รับ parameter เป็นคะแนนโดยมีค่าตั้งแต่ 0-100 และ return เกรดตามเกณฑ์ต่อไปนี้
   - 80 ขึ้นไป = A
   - 70-79 = B
   - 60-69 = C
   - 50-59 = D
   - ต่ำกว่า 50 = F
5. เขียน function ชื่อ `factorial` ที่รับ parameter 1 ตัว และ return ค่าเป็นค่า factorial ของ parameter นั้น (factorial ของ n คือ ผลคูณของเลขตั้งแต่ 1 ถึง n)
6. เขียนโปรแกรมที่รับรายชื่อสินค้าและราคาสินค้าจากผู้ใช้ โดยให้ผู้ใช้ป้อนข้อมูลในรูปแบบ "ชื่อสินค้า,ราคา" แล้วกด Enter เพื่อป้อนข้อมูลสินค้าชิ้นถัดไป (ป้อนข้อมูลได้ไม่จำกัดจำนวนครั้ง)

   เมื่อผู้ใช้ป้อนข้อมูลเสร็จแล้ว ให้แสดงผลลัพธ์ดังนี้:

   1. ใช้ฟังก์ชันและลูปเพื่อแสดงรายการสินค้าทั้งหมดพร้อมราคา โดยเรียงลำดับตามราคาจากน้อยไปมาก
   2. ใช้ Lambda Function คำนวณราคาสินค้าทั้งหมดรวมกัน และแสดงผลลัพธ์
   3. ใช้ Lambda Function คำนวณราคาสินค้าที่แพงที่สุด และแสดงผลลัพธ์

   ตัวอย่างผลลัพธ์:

   ```
   รายการสินค้า:
   ปากกา - 10 บาท
   ยางลบ - 5 บาท
   สมุด - 20 บาท
   ไม้บรรทัด - 15 บาท

   ราคารวม: 50 บาท
   สินค้าที่แพงที่สุด: สมุด - 20 บาท
   ```

   เมื่อทำแบบฝึกหัดเสร็จแล้ว ให้ทดสอบโปรแกรมโดยป้อนข้อมูลสินค้าหลายๆ รายการ และตรวจสอบผลลัพธ์ที่ได้ว่าถูกต้องหรือไม่
